{"remainingRequest":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/babel-loader/lib/index.js!/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/@tendermint/vue/src/components/SpTokenSend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/@tendermint/vue/src/components/SpTokenSend.vue","mtime":1606580686508},{"path":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/palinee/Desktop/lottery2/lottery/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3BhbGluZWUvRGVza3RvcC9sb3R0ZXJ5Mi9sb3R0ZXJ5L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTcEgzIGZyb20gIi4vU3BIMyI7CmltcG9ydCBJY29uTG9hZGluZzIgZnJvbSAiLi9JY29uTG9hZGluZzIiOwppbXBvcnQgSWNvblBhcGVyUGxhbmUyIGZyb20gIi4vSWNvblBhcGVyUGxhbmUyIjsKaW1wb3J0IEljb25DaXJjbGUyIGZyb20gIi4vSWNvbkNpcmNsZTIiOwppbXBvcnQgU3BCdXR0b24gZnJvbSAiLi9TcEJ1dHRvbiI7CmltcG9ydCB7IGlzSW50ZWdlciB9IGZyb20gImxvZGFzaCI7CmltcG9ydCB7IEJlY2gzMiB9IGZyb20gIkBjb3NtanMvZW5jb2RpbmciOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU3BIMzogU3BIMywKICAgIEljb25Mb2FkaW5nMjogSWNvbkxvYWRpbmcyLAogICAgSWNvblBhcGVyUGxhbmUyOiBJY29uUGFwZXJQbGFuZTIsCiAgICBJY29uQ2lyY2xlMjogSWNvbkNpcmNsZTIsCiAgICBTcEJ1dHRvbjogU3BCdXR0b24KICB9LAogIGNhdGVnb3J5OiAid2FsbGV0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYW1vdW50OiAiIiwKICAgICAgdG9fYWRkcmVzczogIiIsCiAgICAgIG1lbW86ICIiLAogICAgICBkZW5vbUluZGV4OiAwLAogICAgICBpbkZsaWdodDogZmFsc2UsCiAgICAgIHR4UmVzdWx0OiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBiYWxhbmNlczogZnVuY3Rpb24gYmFsYW5jZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb3Ntb3MuYmFua0JhbGFuY2VzOwogICAgfSwKICAgIGRlbm9tczogZnVuY3Rpb24gZGVub21zKCkgewogICAgICByZXR1cm4gdGhpcy5iYWxhbmNlcy5tYXAoZnVuY3Rpb24gKGIpIHsKICAgICAgICByZXR1cm4gYi5kZW5vbTsKICAgICAgfSk7CiAgICB9LAogICAgZGVub206IGZ1bmN0aW9uIGRlbm9tKCkgewogICAgICByZXR1cm4gdGhpcy5kZW5vbXNbdGhpcy5kZW5vbUluZGV4XTsKICAgIH0sCiAgICB2YWxpZDogZnVuY3Rpb24gdmFsaWQoKSB7CiAgICAgIHZhciB0b19hZGRyZXNzOwoKICAgICAgdHJ5IHsKICAgICAgICB0b19hZGRyZXNzID0gISFCZWNoMzIuZGVjb2RlKHRoaXMudG9fYWRkcmVzcyk7CiAgICAgIH0gY2F0Y2ggKF91bnVzZWQpIHsKICAgICAgICB0b19hZGRyZXNzID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBhbW91bnQgPSArdGhpcy5hbW91bnQgPiAwICYmIGlzSW50ZWdlcigrdGhpcy5hbW91bnQpOwogICAgICByZXR1cm4gewogICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgIHRvX2FkZHJlc3M6IHRvX2FkZHJlc3MKICAgICAgfTsKICAgIH0sCiAgICB0eFJlc3VsdE1lc3NhZ2U6IGZ1bmN0aW9uIHR4UmVzdWx0TWVzc2FnZSgpIHsKICAgICAgaWYgKHRoaXMudHhSZXN1bHQuY29kZSkgcmV0dXJuICJFcnJvcjogIi5jb25jYXQodGhpcy50eFJlc3VsdC5yYXdMb2cpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVub21DaGFuZ2U6IGZ1bmN0aW9uIGRlbm9tQ2hhbmdlKCkgewogICAgICB2YXIgaW5Cb3VuZHMgPSB0aGlzLmRlbm9tSW5kZXggPCB0aGlzLmRlbm9tcy5sZW5ndGggLSAxOwogICAgICB0aGlzLmRlbm9tSW5kZXggPSBpbkJvdW5kcyA/IHRoaXMuZGVub21JbmRleCArIDEgOiAwOwogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXlsb2FkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnZhbGlkLnRvX2FkZHJlc3MgJiYgX3RoaXMudmFsaWQuYW1vdW50ICYmICFfdGhpcy5pbkZsaWdodCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzLmFtb3VudCwKICAgICAgICAgICAgICAgICAgZGVub206IF90aGlzLmRlbm9tLAogICAgICAgICAgICAgICAgICB0b19hZGRyZXNzOiBfdGhpcy50b19hZGRyZXNzLAogICAgICAgICAgICAgICAgICBtZW1vOiBfdGhpcy5tZW1vCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMudHhSZXN1bHQgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzLmluRmxpZ2h0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiY29zbW9zL3Rva2VuU2VuZCIsIHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpcy50eFJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy50eFJlc3VsdC5jb2RlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFtb3VudCA9ICIiOwogICAgICAgICAgICAgICAgICBfdGhpcy50b19hZGRyZXNzID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzLm1lbW8gPSAiIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5pbkZsaWdodCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiY29zbW9zL2JhbmtCYWxhbmNlc0dldCIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SpTokenSend.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"container\" v-if=\"balances && balances.length > 0\">\n      <sp-h3 style='color: #FFFFFF;'>Send tokens</sp-h3>\n      <div class=\"form\">\n        <div class=\"token\">\n          <div class=\"card token__item\">\n            <div @click=\"denomChange\" class=\"label h3 h3__button\">\n              {{ denom }}\n              <icon-circle-2 v-if=\"denoms.length > 1\" class=\"h3__icon\" />\n            </div>\n            <div>\n              <input\n                class=\"input\"\n                v-model=\"amount\"\n                placeholder=\"Amount of tokens\"\n                type=\"text\"\n                :disabled=\"inFlight\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"card\">\n          <div class=\"label h3\">Address</div>\n          <div>\n            <div>\n              <input\n                v-model=\"to_address\"\n                type=\"text\"\n                class=\"input\"\n                :disabled=\"inFlight\"\n                placeholder=\"To address\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"footer\">\n          <div>\n            <input\n              type=\"text\"\n              v-model=\"memo\"\n              class=\"input memo\"\n              :disabled=\"inFlight\"\n              placeholder=\"Add a text message...\"\n            />\n          </div>\n          <sp-button\n            :disabled=\"!(valid.amount && valid.to_address && !inFlight)\"\n            @click=\"send\"\n            :loading=\"inFlight\"\n            >Send tokens</sp-button\n          >\n        </div>\n        <div class=\"log\">\n          <div class=\"log__text\" style='color: #FFFFFF;'>\n            {{ txResultMessage }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;531;600;700;800&display=swap\");\n\n.container {\n  font-family: \"Inter\", \"Helvetica\", sans-serif;\n}\n.form > * {\n  margin-bottom: 10px;\n}\n.card {\n  background: #C2BFE1;\n  width: 100%;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  box-sizing: border-box;\n}\n.token__item {\n  max-width: 225px;\n}\n.h3 {\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  font-weight: 700;\n  user-select: none;\n  display: flex;\n  align-items: center;\n}\n.h3__button {\n  cursor: pointer;\n}\n.h3__icon {\n  height: 1em;\n  width: 1em;\n  margin: 0 0.25rem;\n  fill: rgba(0, 0, 0, 0.35);\n}\n.label {\n  margin-bottom: 0.5rem;\n}\n.input {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0;\n  border: none;\n  background: #C2BFE1;;\n  font-size: 1rem;\n  font-family: inherit;\n  outline: none;\n  letter-spacing: 0.02em;\n  text-transform: none;\n  background-color: #C2BFE1;\n}\n.token__item__input::-webkit-input-placeholder {\n  color: rgba(0, 0, 0, 0.35);\n}\n.footer {\n  display: grid;\n  grid-template-columns: 3fr 1fr;\n  grid-gap: 10px;\n  box-sizing: border-box;\n}\n.memo {\n  padding: 0.75rem 1rem;\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n  border-radius: 0.5rem;\n}\n.log__text {\n  display: flex;\n  justify-content: flex-end;\n  font-size: 0.75rem;\n  color: rgba(0, 0, 0, 0.35);\n}\n</style>\n\n<script>\nimport SpH3 from \"./SpH3\";\nimport IconLoading2 from \"./IconLoading2\";\nimport IconPaperPlane2 from \"./IconPaperPlane2\";\nimport IconCircle2 from \"./IconCircle2\";\nimport SpButton from \"./SpButton\";\nimport { isInteger } from \"lodash\";\nimport { Bech32 } from \"@cosmjs/encoding\";\n\nexport default {\n  components: {\n    SpH3,\n    IconLoading2,\n    IconPaperPlane2,\n    IconCircle2,\n    SpButton,\n  },\n  category: \"wallet\",\n  data() {\n    return {\n      amount: \"\",\n      to_address: \"\",\n      memo: \"\",\n      denomIndex: 0,\n      inFlight: false,\n      txResult: \"\",\n    };\n  },\n  computed: {\n    balances() {\n      return this.$store.state.cosmos.bankBalances;\n    },\n    denoms() {\n      return this.balances.map((b) => b.denom);\n    },\n    denom() {\n      return this.denoms[this.denomIndex];\n    },\n    valid() {\n      let to_address;\n      try {\n        to_address = !!Bech32.decode(this.to_address);\n      } catch {\n        to_address = false;\n      }\n      const amount = +this.amount > 0 && isInteger(+this.amount);\n      return { amount, to_address };\n    },\n    txResultMessage() {\n      if (this.txResult.code) return `Error: ${this.txResult.rawLog}`;\n    },\n  },\n  methods: {\n    denomChange() {\n      const inBounds = this.denomIndex < this.denoms.length - 1;\n      this.denomIndex = inBounds ? this.denomIndex + 1 : 0;\n    },\n    async send() {\n      if (this.valid.to_address && this.valid.amount && !this.inFlight) {\n        const payload = {\n          amount: this.amount,\n          denom: this.denom,\n          to_address: this.to_address,\n          memo: this.memo,\n        };\n        this.txResult = \"\";\n        this.inFlight = true;\n        this.txResult = await this.$store.dispatch(\"cosmos/tokenSend\", payload);\n        if (!this.txResult.code) {\n          this.amount = \"\";\n          this.to_address = \"\";\n          this.memo = \"\";\n        }\n        this.inFlight = false;\n        await this.$store.dispatch(\"cosmos/bankBalancesGet\");\n      }\n    },\n  },\n};\n</script>\n"],"sourceRoot":"node_modules/@tendermint/vue/src/components"}]}